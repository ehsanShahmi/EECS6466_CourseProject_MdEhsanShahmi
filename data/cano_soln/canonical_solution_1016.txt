    response = None  # Initialize response to None
    # Validate the URL
    if not isinstance(url, str) or not url:
        raise ValueError("Invalid URL provided.")

    # Download the image with error handling
    try:
        response = requests.get(url, stream=True, timeout=10)
        response.raise_for_status()
        img = Image.open(response.raw).convert("L")
    except requests.RequestException as e:
        raise ValueError(f"Error downloading the image: {e}") from e
    except IOError as e:
        raise IOError(f"Error processing the image: {e}") from e
    finally:
        if response:  # Check if response is not None before closing
            response.close()

    # Convert the image to a numpy array
    img_array = np.array(img)

    # Create the histogram and return the Axes object
    _, ax = plt.subplots()
    ax.hist(img_array.ravel(), bins=256, color="gray", alpha=0.7)
    ax.set_title("Grayscale Histogram")
    return ax