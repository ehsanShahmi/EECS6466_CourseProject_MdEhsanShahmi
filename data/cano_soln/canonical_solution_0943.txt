    date_range = pd.date_range(start=start_date, periods=periods, freq=freq)
    sales_data = np.random.randint(low=100, high=500, size=periods)
    sales_series = pd.Series(sales_data, index=date_range)
    try:
        decomposition = seasonal_decompose(sales_series, model=model, period=12 if freq == 'M' else 4)
    except ValueError as e:
        return {'error': str(e)}
    
    return {
        'trend': decomposition.trend,
        'seasonal': decomposition.seasonal,
        'residual': decomposition.resid
    }